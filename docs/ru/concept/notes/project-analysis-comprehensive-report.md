# Анализ проекта GEO: комплексный отчёт

> Примечание: этот документ — **аналитический/концептуальный отчёт**.
>
> **Каноническое описание фактического стека текущей реализации** находится в [`docs/ru/03-architecture.md`](docs/ru/03-architecture.md:1) (раздел «Технологический стек») и в манифестах зависимостей: `requirements.txt`, `requirements-dev.txt`, `admin-ui/package.json`.

**Дата анализа:** 29 ноября 2025  
**Версия:** 1.0

---

## Содержание

1. [Краткое описание проекта](#1-краткое-описание-проекта)
2. [Анализ текущего состояния](#2-анализ-текущего-состояния)
3. [Рекомендации по улучшению](#3-рекомендации-по-улучшению)
4. [Поэтапный план эволюции](#4-поэтапный-план-эволюции)
5. [Допущения и вопросы](#5-допущения-и-вопросы)

---

## 1. Краткое описание проекта

### 1.1. Какую проблему решает GEO

GEO — это **протокол децентрализованной кредитной сети** для организации экономики взаимного кредита без участия традиционных финансовых посредников.

**Ключевые проблемы, которые адресует проект:**

1. **Отток ликвидности из локальных экономик** — деньги, потраченные в местном бизнесе, быстро «утекают» к крупным корпорациям, банкам и в другие регионы
2. **Ссудный процент как барьер** — процент по кредитам создаёт минимальный порог рентабельности проектов и делает кредит недоступным для малого бизнеса
3. **Централизация денежной системы** — зависимость от банков и регуляторов создаёт точки отказа и контроля
4. **Дефицит ликвидности «на земле»** — ситуации, когда есть взаимные потребности и возможности, но нет «денег» как посредника

### 1.2. Для кого предназначен

**Целевые сегменты:**
- Локальные сообщества (кооперативы, коммуны, объединения жителей)
- Кластеры малого бизнеса
- Профессиональные сети (фрилансеры, ремесленники)
- Альтернативные экономические эксперименты (тайм-банки, LETS-системы)

**Масштаб MVP:** 10–500 участников в одном сообществе с возможностью объединения сообществ.

### 1.3. Основные функции (текущие и планируемые)

**Реализуемые в MVP (v0.1):**
- Регистрация участников с криптографической идентичностью (Ed25519)
- Управление линиями доверия (TrustLines) — односторонние кредитные лимиты
- Платежи через сеть доверия (маршрутизация BFS, multi-path light)
- Автоматический клиринг коротких циклов (3–4 узла)
- Простая отчётность и аналитика

**Ожидаемые в будущем:**
- Межсообществовой обмен (hub-to-hub)
- Расширенный клиринг (циклы 5–6 узлов)
- Частичный p2p-режим (толстые клиенты)
- Интеграция с блокчейнами (якорение, шлюзы)
- Сложные политики доверия и риск-скоринг

### 1.4. Ключевая философия

В отличие от блокчейн-систем, GEO:
- **Не имеет собственной валюты/токена** — в обращении только обязательства участников
- **Не имеет глобального леджера** — только локальные состояния и подписи
- **Фокусируется на клиринге** — автоматический взаимозачёт долгов как основная ценность
- **Локализует риски** — каждый сам решает, кому и сколько доверять

---

## 2. Анализ текущего состояния

### 2.1. Протокол взаимодействия компонентов

#### 2.1.1. Модель данных

**Сущности протокола GEO v0.1:**

| Сущность | Описание | Ключевые поля |
|----------|----------|---------------|
| **Participant** | Участник сети | PID (sha256→base58 от pubkey), public_key, profile, status |
| **Equivalent** | Единица счёта | code, precision, metadata |
| **TrustLine** | Линия доверия | from, to, equivalent, limit, policy, status |
| **Debt** | Обязательство | debtor, creditor, equivalent, amount |
| **Transaction** | Единица изменений | tx_id, type, initiator, payload, signatures, state |

**Инвариант:** `debt[B→A, E] ≤ limit(A→B, E)` — долг не может превышать установленный лимит доверия.

#### 2.1.2. Типы транзакций и состояния

**PAYMENT:**
```
NEW → ROUTED → PREPARE_IN_PROGRESS → COMMITTED | ABORTED
```

**CLEARING:**
```
NEW → [PROPOSED → WAITING_CONFIRMATIONS →] COMMITTED | REJECTED
```

**TRUST_LINE_*:**
```
PENDING → COMMITTED | FAILED
```

#### 2.1.3. Протокол обмена сообщениями

**Типы сообщений:**
- `TRUST_LINE_CREATE/UPDATE/CLOSE` — управление доверием
- `PAYMENT_REQUEST` → `PAYMENT_PREPARE` → `PAYMENT_PREPARE_ACK` → `PAYMENT_COMMIT/ABORT`
- `CLEARING_PROPOSE` → `CLEARING_ACCEPT/REJECT` → `CLEARING_COMMIT/ABORT`

**Базовый формат:**
```json
{
  "msg_id": "UUID",
  "msg_type": "STRING",
  "tx_id": "UUID",
  "from": "PID",
  "to": "PID",
  "payload": { ... },
  "signature": "BASE64(ed25519_signature)"
}
```

#### 2.1.4. Консенсус и координация

- **Механизм:** Двухфазный коммит (2PC)
- **Координатор в MVP:** Community-hub
- **Идемпотентность:** По `tx_id` — повторные операции безопасны

### 2.2. Архитектура

#### 2.2.1. Архитектура MVP (community-hub)

```
┌─────────────────────────────┐
│     Клиенты (Flutter)       │
│  - Мобильное приложение     │
│  - Десктоп-клиент           │
└──────────────┬──────────────┘
               │ HTTPS / WebSocket (JSON)
               ▼
┌─────────────────────────────┐
│    API Gateway / FastAPI    │
└──────────────┬──────────────┘
               ▼
┌─────────────────────────────┐
│    Community Hub Core       │
│  ┌─────────────────────────┐│
│  │ Auth & Identity         ││
│  │ TrustLines Service      ││
│  │ RoutingService (BFS)    ││
│  │ PaymentEngine (2PC)     ││
│  │ ClearingEngine (циклы)  ││
│  │ Reporting & Analytics   ││
│  │ Система аддонов         ││
│  └─────────────────────────┘│
└──────────────┬──────────────┘
               ▼
┌─────────────────────────────┐
│       Data Layer            │
│  - PostgreSQL (ACID)        │
│  - Redis (кэш, локи)        │
└─────────────────────────────┘
```

#### 2.2.2. Разделение ответственности

| Компонент | Ответственность |
|-----------|-----------------|
| **Auth & Identity** | Регистрация, JWT-токены, связь pubkey↔participant |
| **TrustLines Service** | CRUD линий доверия, проверка подписей |
| **RoutingService** | Поиск путей (BFS), расчёт available_credit |
| **PaymentEngine** | Фазы PREPARE/COMMIT, резервирование, атомарность |
| **ClearingEngine** | Поиск циклов, триггерный и периодический клиринг |
| **Аддоны** | Расширения через entry_points (Home Assistant style) |

#### 2.2.3. Хранение данных

**PostgreSQL (основное хранилище):**
- participants, equivalents, trust_lines, debts, transactions
- Транзакционная целостность (ACID)

**Redis (оперативные данные):**
- Сессии пользователей
- prepare_locks для фаз платежей
- Очереди задач (RQ/Celery/Arq)

### 2.3. Технологический стек

#### 2.3.1. Выбранный стек (документация)

| Слой | Технология | Обоснование |
|------|------------|-------------|
| **Backend язык** | Python 3.11+ | Читаемость, экосистема, порог входа |
| **Web-фреймворк** | FastAPI | Async, Pydantic, OpenAPI |
| **ORM** | SQLAlchemy 2.x + Alembic | Надёжность, миграции |
| **БД** | PostgreSQL | ACID, зрелость |
| **Кэш/очереди** | Redis | Универсальность |
| **Тесты** | pytest | Стандарт Python |
| **Контейнеризация** | Docker, docker-compose | Портируемость |
| **Клиенты** | Flutter (Dart) | Кроссплатформенность |
| **Web-админка** | Vue 3 + TypeScript + Vite + Element Plus + Pinia | Реализация в `admin-ui/`, интеграция через Admin API |
| **Криптография** | libsodium / tweetnacl (Ed25519) | Надёжность, постквантовость |

### 2.4. Сравнение с оригинальным GEO Protocol

#### 2.4.1. Что взято из оригинального протокола

| Концепция | Оригинал | GEO v0.1 |
|-----------|----------|----------|
| **TrustLines** | Да (Twin State) | Да (упрощённо) |
| **Транзитивные платежи** | Да | Да |
| **Multi-path** | Агрессивный | Light (2–3 пути) |
| **Клиринг циклов** | 3–6 узлов | 3–4 узла (MVP) |
| **Криптография** | Lamport (постквантовая) | Ed25519 (простота) |
| **Координация** | p2p | Hub-координатор |
| **Observers** | Арбитраж споров | Не в MVP |

#### 2.4.2. Что упрощено

1. **Убран p2p-протокол** — всё через HTTP/WebSocket к хабу
2. **Убрана Lamport-подпись** — слишком громоздкая (16KB ключи, 8KB подпись)
3. **Упрощены стейт-машины** — меньше промежуточных состояний
4. **Убран Observer-арбитраж** — отложен на следующие версии
5. **Упрощена маршрутизация** — BFS вместо сложного max-flow

### 2.5. Сильные стороны текущих решений

1. **Минимализм и понятность**
   - Чёткие сущности и их семантика
   - Простые алгоритмы (BFS, 2PC, поиск коротких циклов)
   - Хорошо документировано

2. **Реалистичность для MVP**
   - Классический стек (Python + PostgreSQL)
   - Низкий порог входа для контрибьюторов
   - Понятный путь от документации к коду

3. **Архитектурная гибкость**
   - Протокол отделён от транспорта
   - Подготовка к p2p и межхабовому режиму
   - Система аддонов для расширений

4. **Фокус на практику**
   - Ориентация на локальные сообщества
   - Отказ от «глобального Internet of Value» в первой версии

### 2.6. Слабые стороны и риски

#### 2.6.1. Производительность

| Проблема | Влияние | Критичность |
|----------|---------|-------------|
| BFS на каждый платёж | Линейная сложность по графу | Средняя (до 500 участников — приемлемо) |
| Поиск циклов в БД | SQL-джойны для 3–4 узлов | Низкая (оптимизируется индексами) |
| Отсутствие кэширования графа | Повторные запросы к БД | Средняя |

#### 2.6.2. Масштабируемость

| Проблема | Влияние | Критичность |
|----------|---------|-------------|
| Один hub = единая точка нагрузки | Потолок по RPS | Средняя (решается кластеризацией) |
| PostgreSQL на запись | Узкое место при высокой нагрузке | Низкая для MVP |

#### 2.6.3. Надёжность

| Проблема | Влияние | Критичность |
|----------|---------|-------------|
| Hub = single point of failure | Сообщество offline при падении | **Высокая** |
| Отсутствие механизма арбитража | Споры решаются «вручную» | Средняя |
| Нет формальной верификации 2PC | Потенциальные edge cases | Низкая |

#### 2.6.4. Простота разработки и поддержки

| Проблема | Влияние | Критичность |
|----------|---------|-------------|
| Много документов с пересечениями | Сложно найти «истину» | Средняя |
| Нет OpenAPI-спецификации | Нет контракта для клиентов | Средняя |
| Нет тестов (пока) | Регрессии при рефакторинге | Высокая |

#### 2.6.5. Онбординг разработчиков

| Проблема | Влияние | Критичность |
|----------|---------|-------------|
| Много концептуальных документов | Долгий вход в контекст | Средняя |
| Нет «Hello World» примера | Непонятно с чего начать | Средняя |

---

## 3. Рекомендации по улучшению

### 3.1. Локальные улучшения (низкозатратные)

#### 3.1.1. Консолидация документации

**Действие:** Объединить документы в единую структуру с чёткой иерархией.

**Предлагаемая структура:**
```
docs/
├── 00-overview.md           # Краткое описание проекта
├── 01-concepts.md           # Ключевые концепции (TL;DR)
├── 02-protocol-spec.md      # Формальная спецификация протокола
├── 03-architecture.md       # Архитектура MVP
├── 04-api-reference.md      # OpenAPI + WebSocket контракты
├── 05-deployment.md         # Инструкции по развёртыванию
├── 06-contributing.md       # Как вносить вклад
└── legacy/                  # Архив старых документов
```

**Эффект:** Ускорение онбординга, единый источник правды.

#### 3.1.2. OpenAPI-спецификация

**Действие:** Описать REST API в формате OpenAPI 3.0.

```yaml
# Пример
/api/v1/payments:
  post:
    summary: Создать платёж
    requestBody:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PaymentRequest'
    responses:
      '201':
        description: Платёж создан
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentResponse'
```

**Эффект:** Автогенерация клиентов, документация API, валидация.

#### 3.1.3. Кэширование графа доверия

**Действие:** Добавить in-memory кэш для часто запрашиваемых данных.

```python
# Пример с Redis
class GraphCache:
    def get_available_credit(self, from_pid, to_pid, eq) -> Decimal:
        key = f"credit:{from_pid}:{to_pid}:{eq}"
        cached = redis.get(key)
        if cached:
            return Decimal(cached)
        # Fallback to DB
        credit = self._calculate_from_db(from_pid, to_pid, eq)
        redis.setex(key, 60, str(credit))  # TTL 60s
        return credit
```

**Эффект:** Ускорение маршрутизации в 5–10 раз.

#### 3.1.4. Базовый набор тестов

**Действие:** Покрыть критические пути unit и integration тестами.

**Приоритеты:**
1. TrustLines Service — CRUD, проверка подписей
2. PaymentEngine — happy path, edge cases
3. ClearingEngine — поиск циклов, применение
4. API endpoints — валидация, авторизация

**Эффект:** Уверенность в рефакторинге, раннее обнаружение багов.

#### 3.1.5. Health checks и мониторинг

**Действие:** Добавить эндпоинты для проверки состояния.

```python
@app.get("/health")
async def health():
   return {"status": "ok"}

@app.get("/healthz")
async def healthz():
   return {"status": "ok"}

@app.get("/health/db")
async def health_db():
   # Проверка доступности БД (на ошибке возвращает HTTP 503)
   return {"status": "ok"}

@app.get("/metrics")
async def metrics():
   # Опционально (если включено)
    return {
        "participants_count": await count_participants(),
        "active_payments": await count_active_payments(),
        "pending_clearings": await count_pending_clearings()
    }
```

**Эффект:** Операционная прозрачность, быстрая диагностика.

### 3.2. Среднесрочные улучшения

#### 3.2.1. Улучшение алгоритма маршрутизации

**Текущее:** BFS с ограничением глубины, 1–3 пути.

**Улучшение:** k-shortest paths с весами на основе:
- Available credit (capacity)
- Исторической надёжности узла
- Времени отклика

```python
def find_k_paths(graph, source, target, k=3):
    """
    Алгоритм Йена для k кратчайших путей
    с учётом capacity как «длины» ребра
    """
    paths = []
    # ... реализация
    return paths[:k]
```

**Эффект:** Лучшее использование ёмкости сети.

#### 3.2.2. Расширенный клиринг

**Текущее:** Циклы 3–4 узла, триггерный + периодический.

**Улучшение:**
1. Циклы 5–6 узлов (ночной batch-процесс)
2. Приоритизация циклов по сумме (сначала крупные)
3. Параллельный поиск в подграфах

**Эффект:** Больше «схлопнутых» долгов, меньше напряжения в сети.

#### 3.2.3. Резервное копирование и восстановление

**Действие:** Автоматический бэкап состояния участника.

```python
class ParticipantBackup:
    def export_state(self, pid: str) -> dict:
        """Экспорт подписанного состояния"""
        return {
            "pid": pid,
            "trust_lines": [...],
            "debts": [...],
            "signatures": [...],
            "timestamp": datetime.utcnow().isoformat()
        }
    
    def verify_and_restore(self, backup: dict) -> bool:
        """Проверка подписей и восстановление"""
        ...
```

**Эффект:** Устойчивость к потере данных, миграция между хабами.

#### 3.2.4. WebSocket для реального времени

**Текущее:** Вероятно polling или SSE.

**Улучшение:** Full-duplex WebSocket для:
- Уведомлений о платежах
- Обновлений состояния TrustLines
- Предложений клиринга

```python
@app.websocket("/ws/{participant_id}")
async def websocket_endpoint(websocket: WebSocket, participant_id: str):
    await manager.connect(participant_id, websocket)
    try:
        while True:
            data = await websocket.receive_json()
            await handle_message(participant_id, data)
    except WebSocketDisconnect:
        manager.disconnect(participant_id)
```

**Эффект:** Мгновенный UX, меньше нагрузки от polling.

### 3.3. Глубокая эволюция архитектуры

#### 3.3.1. Кластеризация Hub'а

**Когда:** >500 участников или требования к availability.

**Как:**
1. Несколько инстансов FastAPI за балансировщиком
2. PostgreSQL с репликацией (primary + replica)
3. Redis Cluster для распределённого кэша
4. Sticky sessions для WebSocket

```
                    ┌─────────────┐
                    │   Nginx     │
                    │ (балансир.) │
                    └──────┬──────┘
           ┌───────────────┼───────────────┐
           ▼               ▼               ▼
    ┌────────────┐  ┌────────────┐  ┌────────────┐
    │  Hub #1    │  │  Hub #2    │  │  Hub #3    │
    └─────┬──────┘  └─────┬──────┘  └─────┬──────┘
          │               │               │
          └───────────────┼───────────────┘
                          ▼
              ┌──────────────────────┐
              │  PostgreSQL Primary  │
              │   + Read Replicas    │
              └──────────────────────┘
```

**Эффект:** Горизонтальное масштабирование, отказоустойчивость.

**Затраты:** Средние (инфраструктура, DevOps).

#### 3.3.2. Межсообществовой протокол

**Когда:** Несколько сообществ хотят обмениваться.

**Как:** Hub-to-Hub через тот же протокол:
1. Каждый Hub — Participant с PID
2. TrustLines между Hub'ами
3. Платежи маршрутизируются через Hub'ы
4. Клиринг между Hub'ами

```
┌───────────────┐         ┌───────────────┐
│  Community A  │         │  Community B  │
│  ┌─────────┐  │         │  ┌─────────┐  │
│  │ Hub A   │◄─┼─────────┼─►│ Hub B   │  │
│  └────┬────┘  │TrustLine│  └────┬────┘  │
│       │       │         │       │       │
│  [users A]    │         │  [users B]    │
└───────────────┘         └───────────────┘
```

**Эффект:** Федерация сообществ без центра.

**Затраты:** Низкие (протокол уже готов).

#### 3.3.3. Частичный p2p-режим

**Когда:** Появляются «толстые» участники (организации с серверами).

**Как:**
1. Толстый клиент хранит своё состояние локально
2. Синхронизируется с Hub через extended API
3. Участвует в 2PC напрямую (не через Hub)

**Эффект:** Меньше зависимости от Hub, распределение нагрузки.

**Затраты:** Высокие (новый клиент, сложная синхронизация).

#### 3.3.4. Консенсусный журнал (Raft/Tendermint)

**Когда:** Критичные требования к консистентности между Hub'ами.

**Как:** Заменить PostgreSQL на распределённый журнал:
1. Raft-кластер из Hub-нод
2. Все транзакции через консенсус
3. Гарантированная репликация

**Эффект:** Максимальная надёжность.

**Затраты:** Очень высокие (переписывание data layer).

**Рекомендация:** Не для MVP, только при явной необходимости.

---

## 4. Поэтапный план эволюции

### Фаза 0: Подготовка (2–4 недели)

| Задача | Приоритет | Трудозатраты |
|--------|-----------|--------------|
| Консолидация документации | Высокий | 3–5 дней |
| Создание OpenAPI-спеки | Высокий | 2–3 дня |
| Настройка CI/CD (GitHub Actions) | Высокий | 1–2 дня |
| Базовый README с quickstart | Высокий | 1 день |

### Фаза 1: MVP Backend (4–6 недель)

| Задача | Приоритет | Трудозатраты |
|--------|-----------|--------------|
| Скелет FastAPI + структура проекта | Высокий | 2–3 дня |
| Модели SQLAlchemy (participants, TL, debts, tx) | Высокий | 3–5 дней |
| Auth & Identity (регистрация, JWT) | Высокий | 3–4 дня |
| TrustLines Service (CRUD + подписи) | Высокий | 4–5 дней |
| RoutingService (BFS) | Высокий | 3–4 дня |
| PaymentEngine (2PC) | Высокий | 5–7 дней |
| ClearingEngine (циклы 3–4) | Средний | 4–5 дней |
| Unit-тесты критических путей | Высокий | 3–5 дней |

### Фаза 2: MVP Frontend (4–6 недель)

| Задача | Приоритет | Трудозатраты |
|--------|-----------|--------------|
| Flutter-скелет + навигация | Высокий | 2–3 дня |
| Экран регистрации/авторизации | Высокий | 3–4 дня |
| Dashboard (баланс, метрики) | Высокий | 3–4 дня |
| Управление TrustLines | Высокий | 4–5 дней |
| Создание платежа | Высокий | 4–5 дней |
| История транзакций | Средний | 2–3 дня |
| Уведомления (WebSocket) | Средний | 3–4 дня |

### Фаза 3: Стабилизация и пилот (4–8 недель)

| Задача | Приоритет | Трудозатраты |
|--------|-----------|--------------|
| Integration тесты | Высокий | 5–7 дней |
| Документация для пользователей | Высокий | 3–5 дней |
| Пилотный запуск (10–20 участников) | Высокий | 2–4 недели |
| Исправление багов по фидбеку | Высокий | Ongoing |
| Health checks + базовый мониторинг | Средний | 2–3 дня |

### Фаза 4: Масштабирование (6–12 недель)

| Задача | Приоритет | Трудозатраты |
|--------|-----------|--------------|
| Кэширование графа (Redis) | Высокий | 3–5 дней |
| Расширенный клиринг (5–6 узлов) | Средний | 5–7 дней |
| Web-админка (Vue 3 + TypeScript + Vite) | Средний | 5–7 дней |
| Кластеризация Hub (Nginx + replicas) | Средний | 7–10 дней |
| Межхабовый обмен (pilot) | Низкий | 5–7 дней |

### Фаза 5: Продвинутые возможности (по необходимости)

| Задача | Приоритет | Трудозатраты |
|--------|-----------|--------------|
| Толстый клиент (p2p-режим) | Низкий | 3–4 недели |
| Observer-арбитраж | Низкий | 2–3 недели |
| Интеграция с блокчейном | Низкий | 4–6 недель |
| k-shortest paths алгоритм | Средний | 1–2 недели |

---

## 5. Допущения и вопросы

### 5.1. Допущения, сделанные при анализе

1. **Технологический стек окончательно выбран**
   - Предполагается Python + FastAPI + PostgreSQL + Flutter
   - Если команда рассматривает альтернативы (Go, TypeScript), рекомендации потребуют корректировки

2. **MVP ориентирован на единственное сообщество**
   - Межхабовый обмен — следующий этап
   - Если это критично с первого дня, архитектура потребует пересмотра

3. **Доверие к Hub'у в рамках сообщества**
   - Участники доверяют администратору Hub'а
   - Криптографические подписи — дополнительная страховка, но не основная защита

4. **Масштаб 10–500 участников**
   - Для тысяч пользователей понадобятся другие подходы к маршрутизации и хранению

5. **Отсутствие жёстких регуляторных требований**
   - Система не позиционируется как «электронные деньги» в юридическом смысле
   - Если требуется compliance, это существенно усложнит архитектуру

### 5.2. Места с недостаточной информацией

| Вопрос | Контекст | Влияние |
|--------|----------|---------|
| Какова целевая нагрузка (TPS)? | Нет явных NFR в документации | Влияет на выбор между sync/async, кэширование |
| Есть ли требования к latency платежей? | Важно для UX | Влияет на таймауты 2PC, multi-path |
| Как будут решаться споры? | Observer отложен | Нужен хотя бы ручной процесс |
| Кто администрирует Hub? | Не описано | Влияет на безопасность, доступы |
| Как происходит KYC/верификация? | Регистрация упрощена | Важно для реальных сообществ |

### 5.3. Противоречия между кодом и документацией

> **Примечание:** код в репозитории уже существует, и ряд мест в документах исторически расходится с реализацией. Ниже — типовые расхождения и как их трактовать:

1. **Формат подписей**
   - В `GEO v0.1` упоминается Ed25519
   - В старых документах (Twin Spark) — Lamport
   - **Рекомендация:** Явно зафиксировать Ed25519 для v0.1

2. **Стек технологий**
    - В одном документе упоминается TypeScript + NestJS
    - В другом — Python + FastAPI
    - **Статус:** выбор финализирован в коде (Python/FastAPI) и в каноне: [`docs/ru/03-architecture.md`](docs/ru/03-architecture.md:1)

3. **Web-админка**
   - В ряде концептов фигурирует server-rendered админка (Jinja2 + HTMX/Alpine.js)
   - В реализации админка — отдельный SPA-проект `admin-ui/` (Vue 3 + TypeScript + Vite + Element Plus + Pinia)
   - **Статус:** server-rendered вариант считать устаревшим для текущего репозитория; см. канон: [`docs/ru/03-architecture.md`](docs/ru/03-architecture.md:1)

3. **Роль координатора**
   - В протоколе — «любой узел может быть координатором»
   - В архитектуре — «координатор = Hub»
   - **Рекомендация:** Для MVP явно указать, что Hub — единственный координатор

### 5.4. Вопросы к команде проекта

1. **Стратегические:**
   - Каков горизонт планирования? (6 мес / 1 год / 3 года)
   - Есть ли конкретное сообщество для пилота?
   - Какой бюджет на инфраструктуру?

2. **Технические:**
   - Окончательно ли выбран Python + FastAPI?
   - Нужна ли поддержка офлайн-режима в мобильном клиенте?
   - Какой SLA планируется для Hub'а (uptime)?

3. **Продуктовые:**
   - Какие эквиваленты будут использоваться в пилоте?
   - Как участники будут регистрироваться (invite-only, open)?
   - Нужна ли интеграция с существующими системами (бухгалтерия, CRM)?

---

## Заключение

### Что уже хорошо

Проект GEO v0.1 демонстрирует зрелый и прагматичный подход:
- Чётко определена предметная область
- Выбрана понятная архитектура MVP
- Протокол опирается на проверенные паттерны (2PC, BFS)
- Заложена возможность эволюции

### Главные риски

1. **Single point of failure** — Hub как единственная точка координации
2. **Отсутствие тестов** — критично для стабильности
3. **Много документов** — замедляет онбординг

### Приоритеты на ближайшее время

1. **Консолидировать документацию** (1 неделя)
2. **Создать скелет backend'а** (2–3 недели)
3. **Покрыть тестами критические пути** (параллельно)
4. **Запустить пилот** (через 2–3 месяца)

### Что НЕ делать

- Не строить p2p-протокол до успешного пилота с Hub'ом
- Не внедрять сложные алгоритмы (max-flow, Lamport) в MVP
- Не фокусироваться на «глобальной сети» до локального успеха

---

*Отчёт подготовлен на основе анализа документации в `docs/`, исходных материалов в `sources/`, и изучения оригинального GEO Protocol на GitHub.*
