# GEO Hub Admin Console — UI Specification

**Версия:** 0.1  
**Стек:** Vue.js 3 (Vite), Element Plus, Tailwind CSS, Pinia.

---

## 1. Общая концепция

Админка представляет собой SPA, взаимодействующее с Backend через REST API. Основной упор сделан на наглядность состояния сети и быстрое реагирование на инциденты.

### 1.1. Цветовая схема (Dark Mode по умолчанию)
- **Background:** `#0f172a` (Slate 900)
- **Primary:** `#3b82f6` (Blue 500)
- **Success:** `#10b981` (Emerald 500)
- **Warning:** `#f59e0b` (Amber 500)
- **Danger:** `#ef4444` (Red 500)

---

## 2. Структура Layout

### 2.1. Sidebar (Навигация)
- **Dashboard** (Иконка: `Odometer`)
- **Сеть** (Иконка: `Share`) — Визуализация графа
- **Участники** (Иконка: `User`)
- **Транзакции** (Иконка: `List`)
- **Клиринг** (Иконка: `Refresh`)
- **Эквиваленты** (Иконка: `Coin`)
- **Конфигурация** (Иконка: `Setting`)
- **Аудит** (Иконка: `Lock`)

### 2.2. Header
- Хлебные крошки (Breadcrumbs).
- Статус Health (Зеленый/Красный индикатор).
- Профиль пользователя и кнопка Logout.

---

## 3. Спецификация экранов

### 3.1. Dashboard
- **Виджеты (Cards):**
    - Всего участников (динамика за 24ч).
    - Объем транзакций (в эквиваленте по выбору).
    - Сэкономлено через клиринг (сумма списанных долгов).
    - Статус целостности (Checkmark "System OK").
- **График:** Активность платежей за последние 7 дней.

### 3.2. Network Graph (Визуализация)
- **Компонент:** `v-network-graph`.
- **Функционал:**
    - Zoom/Pan.
    - Поиск узла (фокус на PID).
    - Tooltip при наведении на ребро: `Limit: 1000, Debt: 200, Available: 800`.
    - Цветовая кодировка ребер: чем меньше доступный лимит, тем "краснее" линия.

### 3.3. Integrity Dashboard
- **Таблица инвариантов:**
    - `Invariant Name` | `Status` | `Last Check` | `Details`
    - `Zero-Sum Check` | `PASS` | `2 mins ago` | `Diff: 0.00000000`
    - `Limit Violation Check` | `PASS` | `2 mins ago` | `Violations: 0`
- **Кнопка:** "Run Deep Scan" (вызывает `POST /admin/integrity/check`).

### 3.4. Incident Management (в разделе Транзакции)
- **Фильтр:** "Stuck Transactions" (status = `PREPARE_IN_PROGRESS` & age > 5 min).
- **Action Button:** "Abort" с подтверждением и вводом причины.

---

## 4. Компоненты и Данные

### 4.1. Глобальное состояние (Pinia)
- `useAuthStore`: токены, роли, данные профиля.
- `useConfigStore`: runtime-параметры хаба.
- `useNetworkStore`: кэшированные данные графа.

### 4.2. API Клиент (Axios)
- Базовый URL: `/api/v1`.
- Интерцептор для добавления `Authorization: Bearer {token}`.
- Обработка ошибок `E001-E014` с выводом `ElNotification`.

---

## 5. Инструкции для ИИ-генерации (Prompts)

Для генерации кода компонентов используйте следующие вводные:

> "Создай Vue 3 компонент для админки GEO Hub на Element Plus. Используй Script Setup и Tailwind. Компонент должен отображать [Название экрана] и взаимодействовать с API [Путь эндпоинта]. Реализуй обработку состояний загрузки и ошибок."

---

## 6. Этапы разработки

1.  **Phase 1:** Настройка Vite + Vue 3 + Element Plus + Tailwind.
2.  **Phase 2:** Реализация Auth Flow (Challenge-Response).
3.  **Phase 3:** Базовые таблицы (Участники, Транзакции).
4.  **Phase 4:** Визуализация графа и аналитика.
5.  **Phase 5:** Инструменты целостности и инцидентов.
